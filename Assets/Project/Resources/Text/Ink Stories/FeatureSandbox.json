{"inkVersion":20,"root":[["ev",{"VAR?":"Items"},"LIST_ALL","/ev",{"VAR=":"Items","re":true},"\n","ev",{"VAR?":"Affordances"},"LIST_ALL","/ev",{"VAR=":"Affordances","re":true},"\n","\n","\n",{"->":"Start"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"Start":["^Write your text here!","\n","end",{"#f":1}],"Print":[{"temp=":"string"},"^<<i>Log: ","ev",{"VAR?":"string"},"out","/ev","^</i>>","\n",{"#f":1}],"PrintWarning":[{"temp=":"string"},"^<<i>LogWarning: ","ev",{"VAR?":"string"},"out","/ev","^</i>>","\n",{"#f":1}],"Halt":[{"temp=":"duration"},"^<<i>Halt: ","ev",{"VAR?":"duration"},"out","/ev","^</i>>","\n",{"#f":1}],"Clear":["^<<i>Clear Page</i>>","\n",{"#f":1}],"Spd":[{"temp=":"value"},"ev",{"VAR?":"value"},"/ev",{"VAR=":"spd","re":true},{"#f":1}],"Bg":[{"temp=":"duration"},{"temp=":"image"},"^<<i>Backdrop: ","ev",{"VAR?":"image"},"out","/ev","^</i>>","\n",{"#f":1}],"FadeTo":[{"temp=":"duration"},{"temp=":"color"},"^<<i>Fade to ","ev",{"VAR?":"color"},"out","/ev","^</i>>","\n",{"#f":1}],"Sprites":[{"temp=":"images"},"^<<i>Images: ","ev",{"VAR?":"images"},"out","/ev","^</i>>","\n",{"#f":1}],"Vox":[{"temp=":"volume"},{"temp=":"clip"},"^<<i>Vox: ","ev",{"VAR?":"clip"},"out","/ev","^</i>>","\n",{"#f":1}],"Sfx":[{"temp=":"volume"},{"temp=":"clip"},"^<<i>Sfx: ","ev",{"VAR?":"clip"},"out","/ev","^</i>>","\n",{"#f":1}],"Ambiance":[{"temp=":"volume"},{"temp=":"clip"},"^<<i>Ambiance: ","ev",{"VAR?":"clip"},"out","/ev","^</i>>","\n",{"#f":1}],"Music":[{"temp=":"volume"},{"temp=":"clip"},"^<<i>Music: ","ev",{"VAR?":"clip"},"out","/ev","^</i>>","\n",{"#f":1}],"Pop":[{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_MIN","/ev",{"temp=":"x"},"\n","ev",{"VAR?":"list"},{"VAR?":"x"},"-",{"temp=":"list","re":true},"/ev","ev",{"VAR?":"x"},"/ev","~ret",{"#f":1}],"AdvanceTime":["ev",{"VAR?":"TimeOfDay"},7,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",1,"/ev",{"VAR=":"TimeOfDay","re":true},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"TimeOfDay"},1,"+",{"VAR=":"TimeOfDay","re":true},"/ev",{"->":".^.^.^.7"},null]}],"nop","\n","ev",{"list":{},"origins":["Items"]},"/ev",{"VAR=":"Inventory","re":true},"\n",{"#f":1}],"AddInUnity":[{"temp=":"item"},{"#f":1}],"Add":[{"temp=":"item"},"ev",{"VAR?":"Inventory"},{"VAR?":"item"},"+",{"VAR=":"Inventory","re":true},"/ev","ev",{"VAR?":"item"},{"x()":"AddInUnity","exArgs":1},"pop","/ev","\n","ev","str","^Picked up ","/str",{"VAR?":"item"},"+",{"x()":"Print","exArgs":1},"pop","/ev","\n",{"#f":1}],"Use":[{"temp=":"itemOrTrait"},"^{Use(","ev",{"VAR?":"itemOrTrait"},"out","/ev","^)}","\n","ev",{"list":{},"origins":["Items"]},"/ev",{"VAR=":"UsedItem","re":true},"\n",{"#f":1}],"RemoveInUnity":[{"temp=":"item"},{"#f":1}],"Remove":[{"temp=":"item"},"ev",{"VAR?":"Inventory"},{"VAR?":"item"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"Inventory"},{"VAR?":"item"},"-",{"VAR=":"Inventory","re":true},"/ev","ev",{"VAR?":"item"},{"x()":"RemoveInUnity","exArgs":1},"pop","/ev","\n",{"->":"Remove.8"},null]}],[{"->":".^.b"},{"b":["\n","^PrintWarning(\"Attempted to remove an item that wasn't there!\")","\n",{"->":"Remove.8"},null]}],"nop","\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"CurrentLocation","re":true},"\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"PreviousLocation","re":true},"\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"VisitedEver","re":true},"\n",{"#f":1}],"SetLocation":[{"temp=":"location"},"ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"PreviousLocation","re":true},"\n","ev",{"VAR?":"PreviousLocation"},{"VAR?":"CurrentLocation"},"+",{"VAR=":"PreviousLocation","re":true},"/ev","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"CurrentLocation","re":true},"\n","ev",{"VAR?":"CurrentLocation"},{"VAR?":"location"},"+",{"VAR=":"CurrentLocation","re":true},"/ev","ev",{"VAR?":"VisitedEver"},{"VAR?":"location"},"+",{"VAR=":"VisitedEver","re":true},"/ev",{"#f":1}],"HasVisited":[{"temp=":"location"},"ev",{"VAR?":"VisitedEver"},{"VAR?":"location"},"?","/ev","~ret",{"#f":1}],"MapOption":[{"temp=":"destination"},"ev",{"VAR?":"destination"},{"f()":"SetLocation"},"pop","/ev","\n","ev","str","^{TravelTo(","ev",{"VAR?":"destination"},"out","/ev","^)}","/str","/ev","~ret",{"#f":1}],"Knows":[{"temp=":"x"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"x"},"?","/ev","~ret",{"#f":1}],"KnowledgeStateBetween":[{"temp=":"y"},{"temp=":"x"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"x"},"?",{"VAR?":"knowledgeState"},{"VAR?":"y"},"L^","!","&&","/ev","~ret",{"#f":1}],"Learn":[{"temp=":"statesToSet"},"ev",{"^var":"statesToSet","ci":-1},{"f()":"Pop"},"/ev",{"temp=":"x"},"\n",["ev",{"VAR?":"x"},"!","/ev",{"->":".^.b","c":true},{"b":["\n","ev",false,"/ev","~ret",{"->":"Learn.10"},null]}],["ev",{"VAR?":"x"},{"f()":"Knows"},"!","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"x"},"LIST_ALL","/ev",{"temp=":"chain"},"\n","ev",{"VAR?":"chain"},{"VAR?":"chain"},"LIST_MIN",{"VAR?":"x"},"range","/ev",{"temp=":"statesGained"},"\n","ev",{"VAR?":"knowledgeState"},{"VAR?":"statesGained"},"+",{"VAR=":"knowledgeState","re":true},"/ev","ev",{"VAR?":"statesToSet"},{"f()":"Learn"},"pop","/ev","\n","ev",true,"/ev","~ret",{"->":"Learn.10"},null]}],[{"->":".^.b"},{"b":["\n","ev",false,{"VAR?":"statesToSet"},{"f()":"Learn"},"||","/ev","~ret","\n",{"->":"Learn.10"},null]}],"nop","\n",{"#f":1}],"isAre":[{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_COUNT",1,"==","/ev",[{"->":".^.b","c":true},{"b":["^is",{"->":"isAre.9"},null]}],[{"->":".^.b"},{"b":["^are",{"->":"isAre.9"},null]}],"nop","\n",{"#f":1}],"global decl":["ev",{"list":{},"origins":["Locations"]},{"VAR=":"Locations"},{"list":{"Party.Player":1}},{"VAR=":"Party"},{"list":{},"origins":["Items"]},{"VAR=":"Items"},{"list":{},"origins":["Affordances"]},{"VAR=":"Affordances"},107,{"VAR=":"travelrations"},10,{"VAR=":"money"},"str","^{stop}","/str",{"VAR=":"stop"},"str","^{glue}","/str",{"VAR=":"glue"},"str","^{aglue}","/str",{"VAR=":"aglue"},1.0,{"VAR=":"spd"},{"list":{"TimeOfDay.Night":1}},{"VAR=":"TimeOfDay"},{"list":{}},{"VAR=":"Inventory"},{"list":{}},{"VAR=":"UsedItem"},{"list":{}},{"VAR=":"CurrentLocation"},{"list":{}},{"VAR=":"PreviousLocation"},{"list":{}},{"VAR=":"VisitedEver"},{"list":{}},{"VAR=":"knowledgeState"},"str","^PlayerName","/str",{"VAR=":"PlayerName"},"str","^Undefined","/str",{"VAR=":"players_gender"},"str","^Undefined","/str",{"VAR=":"players_eyecolor"},"str","^Undefined","/str",{"VAR=":"players_hair"},"str","^Undefined","/str",{"VAR=":"players_hair_color"},"str","^Undefined","/str",{"VAR=":"players_hair_style"},"str","^androgynous","/str",{"VAR=":"androgynous"},"str","^they","/str",{"VAR=":"they"},"str","^them","/str",{"VAR=":"them"},"str","^their","/str",{"VAR=":"their"},"str","^theirs","/str",{"VAR=":"theirs"},"str","^Mx","/str",{"VAR=":"Mx"},"str","^master","/str",{"VAR=":"master"},"str","^person","/str",{"VAR=":"person"},"str","^kid","/str",{"VAR=":"kid"},"str","^lass","/str",{"VAR=":"lad"},"str","^guy","/str",{"VAR=":"guy"},"/ev","end",null],"#f":1}],"listDefs":{"Locations":{"EdanCastle":1,"RoadToEdanCastleLoc":2,"EdinburghCrossroadsLoc":3,"DreamState":4,"ScotlandEntranceRoadLoc":5,"EdinburghCastleEntrance":6,"EdanCastleEntrance":7,"EdanCastleGatehouse":8},"Party":{"Player":1,"Alice":2,"Robert":3},"Items":{"knife":1,"pot":2,"rope":3,"lantern":4,"foragedMushrooms":5,"wornSword":6},"Affordances":{"weapon":1,"tool":2,"cooking":3,"cutting":4,"stabbing":5},"TimeOfDay":{"Night":1,"Dawn":2,"Morning":3,"Midday":4,"Afternoon":5,"Dusk":6,"Evening":7}}}
{"inkVersion":20,"root":[["ev",{"VAR?":"Items"},"LIST_ALL","/ev",{"VAR=":"Items","re":true},"\n","ev",{"VAR?":"Affordances"},"LIST_ALL","/ev",{"VAR=":"Affordances","re":true},"\n","\n","\n","\n","\n","\n","\n","\n",{"->":"Start"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"Start":["^Write your text here!","\n","end",{"#f":1}],"AdvanceTime":["ev",{"VAR?":"TimeOfDay"},7,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",1,"/ev",{"VAR=":"TimeOfDay","re":true},{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\n","ev",{"VAR?":"TimeOfDay"},1,"+",{"VAR=":"TimeOfDay","re":true},"/ev",{"->":".^.^.^.7"},null]}],"nop","\n","ev",{"list":{},"origins":["Items"]},"/ev",{"VAR=":"Inventory","re":true},"\n",{"#f":1}],"Item_Add":[{"temp=":"item"},"ev",{"VAR?":"Inventory"},{"VAR?":"item"},"+",{"VAR=":"Inventory","re":true},"/ev",{"#f":1}],"ItemOption":[{"temp=":"itemOrAffordance"},"^{Unity.UseItem(","ev",{"VAR?":"itemOrAffordance"},"out","/ev","^)}","\n","ev",{"list":{},"origins":["Items"]},"/ev",{"VAR=":"UsedItem","re":true},"\n",{"#f":1}],"Item_Remove":[{"temp=":"item"},"ev",{"VAR?":"Inventory"},{"VAR?":"item"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"Inventory"},{"VAR?":"item"},"-",{"VAR=":"Inventory","re":true},"/ev",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^Attempted to remove an item that wasn't there!","/str",{"x()":"PrintWarning","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.8"},null]}],"nop","\n",{"#f":1}],"Knows":[{"temp=":"fact"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"fact"},"?","/ev","~ret",{"#f":1}],"KnowledgeStateBetween":[{"temp=":"factY"},{"temp=":"factX"},"ev",{"VAR?":"knowledgeState"},{"VAR?":"factX"},"?",{"VAR?":"knowledgeState"},{"VAR?":"factY"},"L^","!","&&","/ev","~ret",{"#f":1}],"Learn":[{"temp=":"facts"},"ev",{"^var":"facts","ci":-1},{"f()":"_Pop"},"/ev",{"temp=":"x"},"\n",["ev",{"VAR?":"x"},"!","/ev",{"->":".^.b","c":true},{"b":["\n","ev",false,"/ev","~ret",{"->":"Learn.10"},null]}],["ev",{"VAR?":"x"},{"f()":"Knows"},"!","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"x"},"LIST_ALL","/ev",{"temp=":"chain"},"\n","ev",{"VAR?":"chain"},{"VAR?":"chain"},"LIST_MIN",{"VAR?":"x"},"range","/ev",{"temp=":"statesGained"},"\n","ev",{"VAR?":"knowledgeState"},{"VAR?":"statesGained"},"+",{"VAR=":"knowledgeState","re":true},"/ev","ev",{"VAR?":"facts"},{"f()":"Learn"},"pop","/ev","\n","ev",true,"/ev","~ret",{"->":"Learn.10"},null]}],[{"->":".^.b"},{"b":["\n","ev",false,{"VAR?":"facts"},{"f()":"Learn"},"||","/ev","~ret","\n",{"->":"Learn.10"},null]}],"nop","\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"CurrentLocation","re":true},"\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"PreviousLocation","re":true},"\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"TargetLocation","re":true},"\n","ev",{"list":{},"origins":["Locations"]},"/ev",{"VAR=":"VisitedEver","re":true},"\n",{"#f":1}],"SetLocation":[{"temp=":"location"},"ev",{"VAR?":"CurrentLocation"},"/ev",{"VAR=":"PreviousLocation","re":true},"ev",{"VAR?":"location"},"/ev",{"VAR=":"CurrentLocation","re":true},"ev",{"VAR?":"VisitedEver"},{"VAR?":"location"},"+",{"VAR=":"VisitedEver","re":true},"/ev",{"#f":1}],"HasVisited":[{"temp=":"location"},"ev",{"VAR?":"VisitedEver"},{"VAR?":"location"},"?","/ev","~ret",{"#f":1}],"Print":[{"temp=":"message"},"^<<i>Log: ","ev",{"VAR?":"message"},"out","/ev","^</i>>","\n",{"#f":1}],"PrintWarning":[{"temp=":"message"},"^<<i>LogWarning: ","ev",{"VAR?":"message"},"out","/ev","^</i>>","\n",{"#f":1}],"_Pop":[{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_MIN","/ev",{"temp=":"x"},"\n","ev",{"VAR?":"list"},{"VAR?":"x"},"-",{"temp=":"list","re":true},"/ev","ev",{"VAR?":"x"},"/ev","~ret",{"#f":1}],"Spd":[{"temp=":"value"},"ev",{"VAR?":"value"},"/ev",{"VAR=":"Speed","re":true},"ev",{"VAR?":"value"},{"x()":"_Spd","exArgs":1},"pop","/ev","\n",{"#f":1}],"_Spd":[{"temp=":"float"},{"#f":1}],"Halt":[{"temp=":"duration"},"ev",{"VAR?":"duration"},{"x()":"_Halt","exArgs":1},"pop","/ev","\n",{"#f":1}],"_Halt":[{"temp=":"float"},"^<<i>Unity halts for: ","ev",{"VAR?":"float"},"out","/ev","^</i>>","\n",{"#f":1}],"Clear":["ev",{"f()":".^"},"pop","/ev","\n",{"#f":1}],"_Clear":["^<<i>Clear Page</i>>","\n",{"#f":1}],"FadeToImage":[{"temp=":"duration"},{"temp=":"image"},"ev",{"VAR?":"image"},{"VAR?":"duration"},{"x()":"_FadeToImage","exArgs":2},"pop","/ev","\n",{"#f":1}],"_FadeToImage":[{"temp=":"float"},{"temp=":"listItem"},"ev",{"VAR?":"listItem"},"/ev",{"VAR=":"Background","re":true},"^<<i>Unity background: ","ev",{"VAR?":"listItem"},"out","/ev","^</i>>","\n",{"#f":1}],"FadeToColor":[{"temp=":"duration"},{"temp=":"color"},"ev",{"VAR?":"color"},{"VAR?":"duration"},{"x()":"_FadeToColor","exArgs":2},"pop","/ev","\n",{"#f":1}],"_FadeToColor":[{"temp=":"float"},{"temp=":"string"},"^<<i>Fade to ","ev",{"VAR?":"string"},"out","/ev","^</i>>","\n",{"#f":1}],"Portraits_Set":[{"temp=":"images"},"ev",{"VAR?":"images"},"/ev",{"VAR=":"Portraits","re":true},"^<<i>Unity now shows ","ev",{"VAR?":"images"},"out","/ev","^</i>>","\n",{"#f":1}],"Portraits_Add":[{"temp=":"image"},"ev",{"VAR?":"Portraits"},{"VAR?":"image"},"+",{"VAR=":"Portraits","re":true},"/ev","^<<i>Unity now shows ","ev",{"VAR?":"image"},"out","/ev","^</i>>","\n",{"#f":1}],"Portraits_Remove":[{"temp=":"image"},"ev",{"VAR?":"Portraits"},{"VAR?":"image"},"-",{"VAR=":"Portraits","re":true},"/ev","^<<i>Unity removes ","ev",{"VAR?":"image"},"out","/ev","^ if present</i>>","\n",{"#f":1}],"Portraits_RemoveAll":["ev",{"list":{}},"/ev",{"VAR=":"Portraits","re":true},"^<<i>Unity removes all portraits</i>>","\n",{"#f":1}],"Vox_Play":[{"temp=":"volume"},{"temp=":"clip"},"ev",{"VAR?":"clip"},"/ev",{"VAR=":"Vox","re":true},"ev",{"VAR?":"clip"},{"VAR?":"volume"},{"x()":"_Vox_Play","exArgs":2},"pop","/ev","\n",{"#f":1}],"_Vox_Play":[{"temp=":"float"},{"temp=":"listItem"},"^<<i>Vox: ","ev",{"VAR?":"listItem"},"out","/ev","^ at ","ev",{"VAR?":"float"},"out","/ev","^ volume</i>>","\n",{"#f":1}],"Sfx_Play":[{"temp=":"volume"},{"temp=":"clip"},"ev",{"VAR?":"clip"},"/ev",{"VAR=":"Sfx","re":true},"ev",{"VAR?":"clip"},{"VAR?":"volume"},{"x()":"_Sfx_Play","exArgs":2},"pop","/ev","\n",{"#f":1}],"_Sfx_Play":[{"temp=":"float"},{"temp=":"listItem"},"^<<i>Sfx: ","ev",{"VAR?":"listItem"},"out","/ev","^</i>>","\n",{"#f":1}],"Ambiance_Add":[{"temp=":"volume"},{"temp=":"clip"},"ev",{"VAR?":"Ambiance"},{"VAR?":"clip"},"+",{"VAR=":"Ambiance","re":true},"/ev","ev",{"VAR?":"clip"},{"VAR?":"volume"},{"x()":"_Ambiance_Play","exArgs":2},"pop","/ev","\n",{"#f":1}],"_Ambiance_Play":[{"temp=":"float"},{"temp=":"listItem"},"^<<i>Ambiance: ","ev",{"VAR?":"Ambiance"},"out","/ev","^ </i>>","\n",{"#f":1}],"Ambiance_Adjust":[{"temp=":"newVolume"},{"temp=":"clip"},"ev",{"VAR?":"Ambiance"},{"VAR?":"clip"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"clip"},{"VAR?":"newVolume"},{"x()":"_Ambiance_Play","exArgs":2},"pop","/ev","\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","ev",{"VAR?":"clip"},"out","/ev","^ Not found","/str",{"x()":"PrintWarning","exArgs":1},"pop","/ev","\n",{"->":".^.^.^.9"},null]}],"nop","\n",{"#f":1}],"Ambiance_Remove":[{"temp=":"clip"},"ev",{"VAR?":"Ambiance"},{"VAR?":"clip"},"-",{"VAR=":"Ambiance","re":true},"/ev","ev",{"VAR?":"clip"},{"x()":"_Ambiance_Remove","exArgs":1},"pop","/ev","\n",{"#f":1}],"_Ambiance_Remove":[{"temp=":"listItem"},"^<<i>Ambiance: ","ev",{"VAR?":"Ambiance"},"out","/ev","^ </i>>","\n",{"#f":1}],"Ambiance_RemoveAll":["ev",{"VAR?":"Ambiance.none"},"/ev",{"VAR=":"Ambiance","re":true},"ev",{"x()":"_Ambiance_RemoveAll"},"pop","/ev","\n",{"#f":1}],"_Ambiance_RemoveAll":["^<<i>Removed all ambiance. </i>>","\n",{"#f":1}],"Music_Play":[{"temp=":"volume"},{"temp=":"clip"},"ev",{"VAR?":"clip"},"/ev",{"VAR=":"Music","re":true},"ev",{"VAR?":"clip"},{"VAR?":"volume"},{"x()":"_Music_Play","exArgs":2},"pop","/ev","\n",{"#f":1}],"_Music_Play":[{"temp=":"float"},{"temp=":"listItem"},"^<<i>Music: ","ev",{"VAR?":"Music"},"out","/ev","^</i>>","\n",{"#f":1}],"Music_Stop":["ev",{"VAR?":"Music.none"},"/ev",{"VAR=":"Music","re":true},"ev",{"VAR?":"Music.none"},0,{"x()":"_Music_Play","exArgs":2},"pop","/ev","\n",{"#f":1}],"isAre":[{"temp=":"list"},"ev",{"VAR?":"list"},"LIST_COUNT",1,"==","/ev",[{"->":".^.b","c":true},{"b":["^is",{"->":"isAre.9"},null]}],[{"->":".^.b"},{"b":["^are",{"->":"isAre.9"},null]}],"nop","\n",{"#f":1}],"SetPronouns":[{"temp=":"gender"},"ev",{"VAR?":"gender"},"/ev",{"VAR=":"players_gender","re":true},["ev",{"VAR?":"players_gender"},{"VAR?":"male"},"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^masculine","/str","/ev",{"VAR=":"androgynous","re":true},"ev","str","^he","/str","/ev",{"VAR=":"they","re":true},"ev","str","^him","/str","/ev",{"VAR=":"them","re":true},"ev","str","^his","/str","/ev",{"VAR=":"their","re":true},"ev","str","^his","/str","/ev",{"VAR=":"theirs","re":true},"ev","str","^Mr","/str","/ev",{"VAR=":"Mx","re":true},"ev","str","^mister","/str","/ev",{"VAR=":"master","re":true},"ev","str","^man","/str","/ev",{"VAR=":"person","re":true},"ev","str","^boy","/str","/ev",{"VAR=":"kid","re":true},"ev","str","^lad","/str","/ev",{"VAR=":"lad","re":true},"ev","str","^guy","/str","/ev",{"VAR=":"guy","re":true},{"->":".^.^.^.8"},null]}],["ev",{"VAR?":"players_gender"},"str","^female","/str","==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^feminine","/str","/ev",{"VAR=":"androgynous","re":true},"ev","str","^she","/str","/ev",{"VAR=":"they","re":true},"ev","str","^her","/str","/ev",{"VAR=":"them","re":true},"ev","str","^her","/str","/ev",{"VAR=":"their","re":true},"ev","str","^hers","/str","/ev",{"VAR=":"theirs","re":true},"ev","str","^Ms","/str","/ev",{"VAR=":"Mx","re":true},"ev","str","^missus","/str","/ev",{"VAR=":"master","re":true},"ev","str","^woman","/str","/ev",{"VAR=":"person","re":true},"ev","str","^girl","/str","/ev",{"VAR=":"kid","re":true},"ev","str","^lass","/str","/ev",{"VAR=":"lad","re":true},"ev","str","^gal","/str","/ev",{"VAR=":"guy","re":true},{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^androgynous","/str","/ev",{"VAR=":"androgynous","re":true},"ev","str","^they","/str","/ev",{"VAR=":"they","re":true},"ev","str","^them","/str","/ev",{"VAR=":"them","re":true},"ev","str","^their","/str","/ev",{"VAR=":"their","re":true},"ev","str","^theirs","/str","/ev",{"VAR=":"theirs","re":true},"ev","str","^Mx","/str","/ev",{"VAR=":"Mx","re":true},"ev","str","^master","/str","/ev",{"VAR=":"master","re":true},"ev","str","^person","/str","/ev",{"VAR=":"person","re":true},"ev","str","^kid","/str","/ev",{"VAR=":"kid","re":true},"ev","str","^lad","/str","/ev",{"VAR=":"lad","re":true},"ev","str","^guy","/str","/ev",{"VAR=":"guy","re":true},{"->":".^.^.^.8"},null]}],"nop","\n",{"#f":1}],"MapScreen":[{"temp=":"returnTo"},["^{UNITY:OpenMap()}","\n","ev","str","ev",{"VAR?":"EdanCastle"},{"f()":"MapOption"},"out","/ev","/str",{"VAR?":"EdanCastle"},{"f()":"HasVisited"},"/ev",{"*":".^.c-0","flg":5},"ev","str","ev",{"VAR?":"sampleCave"},{"f()":"MapOption"},"out","/ev","/str",{"VAR?":"sampleCave"},{"f()":"HasVisited"},"/ev",{"*":".^.c-1","flg":5},"ev","str","^Put the map away","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["^ ","\n","ev",{"VAR?":"EdanCastle"},"/ev",{"->":"TravelingTo"},{"#f":5}],"c-1":["^ ","\n","ev",{"VAR?":"sampleCave"},"/ev",{"->":"TravelingTo"},{"#f":5}],"c-2":["\n","^{UNITY:CloseMap()}","\n",{"->":"returnTo","var":true},{"#f":5}]}],{"#f":1}],"MapOption":[{"temp=":"destination"},"^{UNITY:TravelTo(","ev",{"VAR?":"destination"},"out","/ev","^)}","\n",{"#f":1}],"TravelingTo":[{"temp=":"targetLocation"},"ev",{"VAR?":"targetLocation"},"/ev",{"VAR=":"TargetLocation","re":true},"ev",{"VAR?":"onTheRoad"},{"f()":"SetLocation"},"pop","/ev","\n","ev",{"VAR?":"travelRations"},1,"-",{"VAR=":"travelRations","re":true},"/ev","^[Here you can put random travel content.]","\n",{"->":"TargetLocation","var":true},{"#f":1}],"global decl":["ev",{"list":{},"origins":["Locations"]},{"VAR=":"Locations"},{"list":{"Party.Player":1}},{"VAR=":"Party"},{"list":{},"origins":["Items"]},{"VAR=":"Items"},{"list":{},"origins":["Affordances"]},{"VAR=":"Affordances"},107,{"VAR=":"travelRations"},10,{"VAR=":"money"},{"list":{"Background.none":1}},{"VAR=":"Background"},{"list":{"Portraits.none":1}},{"VAR=":"Portraits"},{"list":{"Music.none":1}},{"VAR=":"Music"},{"list":{"Ambiance.none":1}},{"VAR=":"Ambiance"},{"list":{},"origins":["Sfx"]},{"VAR=":"Sfx"},{"list":{},"origins":["Vox"]},{"VAR=":"Vox"},1.0,{"VAR=":"Speed"},{"list":{"TimeOfDay.Night":1}},{"VAR=":"TimeOfDay"},{"list":{}},{"VAR=":"Inventory"},{"list":{}},{"VAR=":"UsedItem"},{"list":{}},{"VAR=":"knowledgeState"},{"list":{}},{"VAR=":"CurrentLocation"},{"list":{}},{"VAR=":"PreviousLocation"},{"list":{}},{"VAR=":"TargetLocation"},{"list":{}},{"VAR=":"VisitedEver"},"str","^{stop}","/str",{"VAR=":"stop"},"str","^{glue}","/str",{"VAR=":"glue"},"str","^{aglue}","/str",{"VAR=":"aglue"},"str","^PlayerName","/str",{"VAR=":"PlayerName"},{"list":{"players_gender.undefined":1}},{"VAR=":"players_gender"},"str","^Undefined","/str",{"VAR=":"players_eyecolor"},"str","^Undefined","/str",{"VAR=":"players_hair"},"str","^Undefined","/str",{"VAR=":"players_hair_color"},"str","^Undefined","/str",{"VAR=":"players_hair_style"},"str","^androgynous","/str",{"VAR=":"androgynous"},"str","^they","/str",{"VAR=":"they"},"str","^them","/str",{"VAR=":"them"},"str","^their","/str",{"VAR=":"their"},"str","^theirs","/str",{"VAR=":"theirs"},"str","^Mx","/str",{"VAR=":"Mx"},"str","^master","/str",{"VAR=":"master"},"str","^person","/str",{"VAR=":"person"},"str","^kid","/str",{"VAR=":"kid"},"str","^lass","/str",{"VAR=":"lad"},"str","^guy","/str",{"VAR=":"guy"},"/ev","end",null],"#f":1}],"listDefs":{"Locations":{"EdanCastle":1,"roadToEdanCastleLoc":2,"EdinburghCrossroadsLoc":3,"dreamState":4,"ScotlandEntranceRoadLoc":5,"EdinburghCastleEntrance":6,"EdanCastleEntrance":7,"EdanCastleGatehouse":8,"sampleCave":9,"onTheRoad":10},"Party":{"Player":1,"Alice":2,"Robert":3},"Items":{"knife":1,"pot":2,"rope":3,"lantern":4,"foragedMushrooms":5,"wornSword":6},"Affordances":{"weapon":1,"tool":2,"cooking":3,"cutting":4,"stabbing":5},"Background":{"none":1,"vaultHall":2,"vaultLibrary":3,"vaultHall2":4,"VaultOffice":5,"CastleGate":6},"Portraits":{"none":1,"Alice1":2,"Robert1":3},"Music":{"none":1,"theStreetsOfWhiteRun":2},"Ambiance":{"none":1,"chatter":2},"Sfx":{"gong":1},"Vox":{"NA":1},"TimeOfDay":{"Night":1,"Dawn":2,"Morning":3,"Midday":4,"Afternoon":5,"Dusk":6,"Evening":7},"players_gender":{"undefined":1,"nonbinary":2,"male":3,"female":4}}}